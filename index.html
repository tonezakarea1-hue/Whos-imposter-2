<!DOCTYPE html>
<html lang="ckb">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÛŒØ§Ø±ÛŒ Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            direction: rtl;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        h1 {
            color: white;
            text-align: center;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        
        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        input:focus {
            border-color: #2a5298;
            outline: none;
        }
        
        button {
            background: #2a5298;
            color: white;
            border: none;
            padding: 12px 30px;
            margin: 5px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #1e3c72;
        }
        
        .hidden {
            display: none;
        }
        
        .player-list {
            background: #f5f5f5;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .player {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .creator-badge {
            background: #ffd700;
            color: #333;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
            margin-right: 10px;
        }
        
        .room-code {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #2a5298;
            margin: 20px 0;
        }
        
        .word-box {
            background: #2a5298;
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .imposter-box {
            background: #dc3545;
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        
        .chat-box {
            border: 1px solid #ddd;
            border-radius: 10px;
            height: 200px;
            overflow-y: auto;
            padding: 15px;
            background: #f9f9f9;
            margin: 20px 0;
        }
        
        .message {
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .message strong {
            color: #2a5298;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .chat-input input {
            flex: 1;
            margin: 0;
        }
        
        .chat-input button {
            margin: 0;
        }
        
        .voting-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .voting-buttons button {
            flex: 1;
        }
        
        .footer {
            text-align: center;
            color: white;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® ÛŒØ§Ø±ÛŒ Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±</h1>
        
        <!-- Ù¾Û•Ú•Û•ÛŒ Ø³Û•Ø±Û•ØªØ§ -->
        <div id="startPage" class="card">
            <h2 style="margin-top: 0;">Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª</h2>
            <input type="text" id="playerName" placeholder="Ù†Ø§ÙˆÛŒ ØªÛ† Ø¨Ù†ÙˆÙˆØ³Û•" value="ÛŒØ§Ø±ÛŒÚ©Û•Ø±">
            
            <button onclick="showCreateRoom()">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ú˜ÙˆØ±</button>
            <button onclick="showJoinRoom()">Ù¾Û•ÛŒÙˆÛ•Ø³Øª Ø¨ÙˆÙˆÙ† Ø¨Û• Ú˜ÙˆØ±</button>
            
            <div id="joinRoomInput" class="hidden" style="margin-top: 20px;">
                <input type="text" id="roomCode" placeholder="Ú©Û†Ø¯ÛŒ Ú˜ÙˆØ±Û•Ú©Û• Ø¨Ù†ÙˆÙˆØ³Û•">
                <button onclick="joinRoom()">Ù¾Û•ÛŒÙˆÛ•Ø³Øª Ø¨Û•</button>
            </div>
        </div>
        
        <!-- Ú˜ÙˆØ±ÛŒ Ú†Ø§ÙˆÛ•Ú•ÙˆØ§Ù†ÛŒ -->
        <div id="waitingRoom" class="card hidden">
            <h2 style="margin-top: 0;">ğŸ”„ Ú˜ÙˆØ±ÛŒ Ú†Ø§ÙˆÛ•Ú•ÙˆØ§Ù†ÛŒ</h2>
            
            <div class="room-code" id="roomCodeDisplay"></div>
            
            <div class="player-list" id="playersList">
                <h3>ÛŒØ§Ø±ÛŒÚ©Û•Ø±Ø§Ù†:</h3>
            </div>
            
            <button id="startGameBtn" onclick="startGame()">Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†ÛŒ ÛŒØ§Ø±ÛŒ</button>
            <button onclick="backToStart()">Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•</button>
        </div>
        
        <!-- Ú˜ÙˆØ±ÛŒ ÛŒØ§Ø±ÛŒ -->
        <div id="gameRoom" class="card hidden">
            <h2 style="margin-top: 0;">ğŸ² ÛŒØ§Ø±ÛŒ Ø¯Û•Ø³ØªÛŒ Ù¾ÛÚ©Ø±Ø¯</h2>
            
            <!-- Ø¨Û† ÛŒØ§Ø±ÛŒÚ©Û•Ø±ÛŒ Ø¦Ø§Ø³Ø§ÛŒÛŒ -->
            <div id="normalPlayer" class="hidden">
                <div class="word-box" id="secretWord">Ø´ÛØ±</div>
                <p>Ø¨Ø§Ø³ÛŒ Ø¦Û•Ù… ÙˆØ´Û•ÛŒÛ• Ø¨Ú©Û• Ø¨Û•ÚµØ§Ù… Ù†Ø§ÙˆÛŒ Ú•Ø§Ø³ØªÛ•Ù‚ÛŒÙ†Û•ÛŒ Ù…Û•Ù‡ÛÙ†Û•</p>
            </div>
            
            <!-- Ø¨Û† Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø± -->
            <div id="imposterPlayer" class="hidden">
                <div class="imposter-box">
                    <h3 style="margin-top: 0;">ğŸš¨ ØªÛ† Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±ÛŒ!</h3>
                    <p>Ù‡Û•ÙˆÚµ Ø¨Ø¯Û• Ù„Û• Ú†Ø§ØªÛ•ÙˆÛ• Ø¨Ø²Ø§Ù†ÛŒØª ÙˆØ´Û•Ú©Û• Ú†ÛŒÛŒÛ•</p>
                </div>
            </div>
            
            <!-- Ú†Ø§Øª -->
            <div class="chat-box" id="chatMessages">
                <div class="message"><strong>Ø³ÛŒØ³ØªÛ•Ù…:</strong> Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ø¨Û† ÛŒØ§Ø±ÛŒ</div>
            </div>
            
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="Ù¾Û•ÛŒØ§Ù…ÛÚ© Ø¨Ù†ÙˆÙˆØ³Û•...">
                <button onclick="sendMessage()">ğŸ“¨ Ù†Ø§Ø±Ø¯Ù†</button>
            </div>
            
            <button onclick="showVoting()" style="width: 100%; margin-top: 10px;">ğŸ—³ï¸ Ø¯Û•Ù†Ú¯Ø¯Ø§Ù†</button>
            
            <div id="votingArea" class="hidden" style="margin-top: 20px;">
                <h3>Ú©Û Ø¯Û•Ú©Û•ÛŒØª Ø¨Û• Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±ØŸ</h3>
                <div class="voting-buttons" id="votingButtons">
                    <button onclick="vote('player1')">ÛŒØ§Ø±ÛŒÚ©Û•Ø± Ù¡</button>
                    <button onclick="vote('player2')">ÛŒØ§Ø±ÛŒÚ©Û•Ø± Ù¢</button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            Â© 2024 - ÛŒØ§Ø±ÛŒ Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±
        </div>
    </div>

    <script>
        // Ø¯Ø§ØªØ§Ú©Ø§Ù†
        let gameData = {
            player: {
                name: '',
                isCreator: false
            },
            room: {
                code: '',
                players: [],
                imposterIndex: -1,
                currentWord: '',
                messages: []
            }
        };
        
        const words = ['Ø´ÛØ±', 'Ù¾Ø´ÛŒÙ„Û•', 'ÙÛŒÙ„', 'Ú©Û•Ø±', 'Ù…Û•ÛŒÙ…ÙˆÙ†', 'Ø³Û•Ú¯', 'Ú•ÛÙˆÛŒ', 'ÙˆØ±Ú†', 'Ú©Û•ÙÙˆØªØ±', 'Ù…Ø§Ø³ÛŒ'];
        
        function showCreateRoom() {
            const name = document.getElementById('playerName').value || 'ÛŒØ§Ø±ÛŒÚ©Û•Ø±';
            const roomCode = 'ROOM' + Math.floor(Math.random() * 1000);
            
            gameData.player = {
                name: name,
                isCreator: true
            };
            
            gameData.room = {
                code: roomCode,
                players: [{name: name, isCreator: true}],
                messages: []
            };
            
            // Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ú˜ÙˆØ±ÛŒ Ú†Ø§ÙˆÛ•Ú•ÙˆØ§Ù†ÛŒ
            document.getElementById('startPage').classList.add('hidden');
            document.getElementById('waitingRoom').classList.remove('hidden');
            
            document.getElementById('roomCodeDisplay').textContent = roomCode;
            updatePlayersList();
            
            alert('Ú˜ÙˆØ± Ø¯Ø±ÙˆØ³Øª Ú©Ø±Ø§! Ú©Û†Ø¯: ' + roomCode);
        }
        
        function showJoinRoom() {
            document.getElementById('joinRoomInput').classList.remove('hidden');
        }
        
        function joinRoom() {
            const name = document.getElementById('playerName').value || 'ÛŒØ§Ø±ÛŒÚ©Û•Ø±';
            const roomCode = document.getElementById('roomCode').value;
            
            if (!roomCode) {
                alert('ØªÚ©Ø§ÛŒÛ• Ú©Û†Ø¯ÛŒ Ú˜ÙˆØ±Û•Ú©Û• Ø¨Ù†ÙˆÙˆØ³Û•');
                return;
            }
            
            gameData.player = {
                name: name,
                isCreator: false
            };
            
            gameData.room = {
                code: roomCode,
                players: [
                    {name: 'ÛŒØ§Ø±ÛŒÚ©Û•Ø± Ù¡', isCreator: true},
                    {name: name, isCreator: false}
                ],
                messages: []
            };
            
            document.getElementById('startPage').classList.add('hidden');
            document.getElementById('waitingRoom').classList.remove('hidden');
            
            document.getElementById('roomCodeDisplay').textContent = roomCode;
            updatePlayersList();
        }
        
        function updatePlayersList() {
            const listDiv = document.getElementById('playersList');
            let html = '<h3>ÛŒØ§Ø±ÛŒÚ©Û•Ø±Ø§Ù†:</h3>';
            
            gameData.room.players.forEach(player => {
                html += `<div class="player">
                    ${player.name} 
                    ${player.isCreator ? '<span class="creator-badge">Ø¯Ø±ÙˆØ³ØªÚ©Û•Ø±</span>' : ''}
                </div>`;
            });
            
            listDiv.innerHTML = html;
        }
        
        function startGame() {
            if (!gameData.player.isCreator) {
                alert('ØªÛ•Ù†Ù‡Ø§ Ø¯Ø±ÙˆØ³ØªÚ©Û•Ø± Ø¯Û•ØªÙˆØ§Ù†ÛØª Ø¯Û•Ø³ØªÙ¾ÛØ¨Ú©Ø§Øª');
                return;
            }
            
            // Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±
            gameData.room.imposterIndex = Math.floor(Math.random() * gameData.room.players.length);
            
            // Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ ÙˆØ´Û•
            const randomWord = words[Math.floor(Math.random() * words.length)];
            gameData.room.currentWord = randomWord;
            
            // Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ú˜ÙˆØ±ÛŒ ÛŒØ§Ø±ÛŒ
            document.getElementById('waitingRoom').classList.add('hidden');
            document.getElementById('gameRoom').classList.remove('hidden');
            
            // Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ø¦Û•Ú¯Û•Ø± Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±Û•
            const isImposter = (gameData.room.imposterIndex === 0 && gameData.player.isCreator) ||
                              (gameData.room.imposterIndex === 1 && !gameData.player.isCreator);
            
            if (isImposter) {
                document.getElementById('imposterPlayer').classList.remove('hidden');
                document.getElementById('normalPlayer').classList.add('hidden');
            } else {
                document.getElementById('normalPlayer').classList.remove('hidden');
                document.getElementById('imposterPlayer').classList.add('hidden');
                document.getElementById('secretWord').textContent = gameData.room.currentWord;
            }
            
            // Ù¾Û•ÛŒØ§Ù…ÛŒ Ø³ÛŒØ³ØªÛ•Ù…
            addMessage('Ø³ÛŒØ³ØªÛ•Ù…', 'ÛŒØ§Ø±ÛŒ Ø¯Û•Ø³ØªÛŒ Ù¾ÛÚ©Ø±Ø¯!');
        }
        
        function addMessage(sender, text) {
            const chatDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message';
            messageDiv.innerHTML = `<strong>${sender}:</strong> ${text}`;
            chatDiv.appendChild(messageDiv);
            chatDiv.scrollTop = chatDiv.scrollHeight;
        }
        
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(gameData.player.name, message);
                input.value = '';
            }
        }
        
        function showVoting() {
            document.getElementById('votingArea').classList.remove('hidden');
            
            // Ø¯ÙˆÚ¯Ù…Û•Ú©Ø§Ù† Ø¯Ø±ÙˆØ³Øª Ø¨Ú©Û•
            const votingDiv = document.getElementById('votingButtons');
            votingDiv.innerHTML = '';
            
            gameData.room.players.forEach((player, index) => {
                const btn = document.createElement('button');
                btn.textContent = player.name;
                btn.onclick = () => vote(index);
                votingDiv.appendChild(btn);
            });
        }
        
        function vote(playerIndex) {
            const isImposter = (playerIndex === gameData.room.imposterIndex);
            const imposterName = gameData.room.players[gameData.room.imposterIndex].name;
            
            let result = '';
            if (isImposter) {
                result = 'âœ… Ø¯Ø±ÙˆØ³Øª! Ø¦Û•Ùˆ Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø±Û•.';
            } else {
                result = `âŒ Ù†Ø§Ø¯Ø±ÙˆØ³Øª! Ø¦ÛŒÙ…Ù¾Û†Ø³ØªÛ•Ø± ${imposterName} Ø¨ÙˆÙˆ.`;
            }
            
            result += `\n\nğŸ“ ÙˆØ´Û•Ú©Û•: ${gameData.room.currentWord}`;
            
            alert(result);
            
            // Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†Û•ÙˆÛ•
            if (confirm('Ø¯Û•ØªÛ•ÙˆÛ Ø¯ÙˆÙˆØ¨Ø§Ø±Û• ÛŒØ§Ø±ÛŒ Ø¨Ú©Û•ÛŒØªØŸ')) {
                location.reload();
            }
        }
        
        function backToStart() {
            location.reload();
        }
        
        console.log('âœ… app.js loaded');
    </script>
</body>
</html>
